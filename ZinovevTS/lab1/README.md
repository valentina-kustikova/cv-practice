# Практическая работа №1. Обработка изображений с использованием библиотеки OpenCV

---

## 1. Изменение разрешения изображения (resize_image)

1. Получение размеров
2. Масштабирование координат
3. Создание матриц координат
4. Применение интерполяции. В программе возможно использование двух методов интерполяции:
Билинейная интерполяция и интерполяция ближайшего соседа  
 а) Билинейная интерполяция: определение целочисленных координат, извлечение значений четырёх соседних пикселей, вычисление усреднения по формуле $f(x, y) \approx (1-dx) (1-dy) f(x_{1},y_{1}) + dx (1-dy) f(x_{2},y_{1}) + (1-dx) dy f(x_{1}, y_{2}) + dx dy f(x_{2}, y_{2})$  
 б) Интерполяция ближайшего соседа: округление координат, проверка границ, выбор значения, ближайшего к заданной координате.
5. Постобработка

## 2. Сепия (sepia)

1. Вычисление интенсивности
2. Цветовая трансформация

## 3. Виньетка (vignette)

1. Получение размеров
2. Вычисление сигмы
3. Генерация гауссовых ядер:  
 а) Расчёт сигмы, если сигма отрицательная или равен нулю  
 б) Вычисление гауссовой функции  
 в) Нормализация
4. Создание двухмерной маски с помощью внешнего произведения
5. Применение маски
6. Постобработка

## 4. Пикселизация области (pixelation_of_roi)

1. Выделение области интереса
2. Уменьшение разрешения с помощью билинейной интерполяции
3. Обратное увеличение с помощью интерполяции ближайшего соседа
4. Вставка в изображение

## 5. Прямоугольная рамка (rectangular_frame)

1. Обработка отрицательной ширины
2. Создание цветного фона
3. Вставка центральной части

## 6. Фигурная рамка (figured_frame)

1. Получение размеров
2. Создание бинарной маски
3. Выбор типа рамки (с заполнением маски)
4. Заливка областей маски  
Алгоритмы заполнения масок для различных видов рамок:  
 а) Волнистая рамка: создание координатных сеток, создание верхней волнистой границы (волна по формуле ```amplitude * np.sin(frequency * x_coords)```, сложение ширины рамки и матрицы волны, составление маски из условия ```y_coords < top_boundary```), аналогично создание нижней и боковых границ  
 б) Зигзагообразная рамка: создание координатных сеток, создание верхней зигзагообразной границы (```segment_pos = (x_coords % pattern_size) / pattern_size```, на возрастающем участке ```frame_width * (segment_pos / 0.5)```, на убывающем ```frame_width * ((1 - segment_pos) / 0.5)```, составление маски), аналогично создание нижней зигзагообразной границы, создание боковых прямоугольных границ  
 в) Диагональная рамка: создание координатных сеток, создание диагональной маски (вычисление диагоналей), ограничение краевыми областями, создание маски при условии пересечения диагональной маски и краевых областей.

## 7. Блики (lens_flare)

1. Получение размеров
2. Позиционирование блока
3. Создание блика:  
 Получение центра блика, создание координатных сеток, создание круглой маски, гауссово распределение интенсивности, применение цвета, взвешенное наложение  
4.  Вычисление координат вставки
5. Обрезка при выходе за границу
6. Наложение блика
7. Финальное смешивание

## 8. Текстура бумаги (paper_texture)

1. Получение размеров
2. Заливка бумаги кремовым цветом
3. Генерация текстуры шума
4. Смешивание бумаги и исходного изображения со следующими пропорциями: 70% изображение, 30% бумаги
