# Практическая работа №1. Обработка изображений с использованием библиотеки OpenCV

**Задача.** Разработать библиотеку фильтров с помощью базовых операций
над изображениями (матрицами) в OpenCV

## Структура программы

Программа содержит:
- `Функцию перевода изображения в оттенки серого`
- `Функцию изменения разрешения изображения`
- `Функцию применения фотоэффекта сепии к изображению`
- `Функцию применения фотоэффекта виньетки к изображению`
- `Функцию пикселизации заданной прямоугольной области изображения`
- `Второй вариант реализации функции пикселизации заданной прямоугольной области изображения`

## Описание алгоритма реализации каждого фильтра

1. **Функция перевода изображения в оттенки серого.** 
 Данная функция преобразует цветное изображение в оттенки серого.
 Для каждого пикселя вычисляется значение оттенка серого по формуле:
 gray_value = 0,299 * r + 0,587 * g + 0,114 * b, где r, g и b — значения красного,
 зеленого и синего каналов пикселя.

2. **Функция изменения разрешения изображения.**
 Данная функция изменяет разрешение изображения, уменьшая его размер. Для этого задаём
 новые размеры изображения и создаём новое изображение с нулевыми значениями с данными размерами.
 Для каждого пикселя в новом изображении рассчитываем координаты соответствующего
 пикселя в исходном изображении. Значение пикселя из исходного изображения
 копируем в соответствующий пиксель в новом изображении.

3. **Функция применения фотоэффекта сепии к изображению.**
 Данная функция реализует алгоритм преобразования изображения в сепию. Создаём новое
 изображение с нулевыми значениями. Далее перебираем каждый пиксель в исходном изображении.
 Для каждого пикселя получем значения красного (r), зеленого (g) и синего (b) каналов. 
 Рассчитываем значение серого (gray)  с помощью взвешенной суммы RGB-значений. 
 К значению серого применяем смещения для каждого канала. Полученные значения
 каналов записываем в соответствующие пиксели нового изображения.

4. **Функция применения фотоэффекта виньетки к изображению.**
 Данная функция добавляет виньетку на изображение. Сначала создаём сетку
 координат для каждого пикселя в изображении. Далее находим центр изображения, рассчитываем
 расстояние каждого пикселя от центра и нормализуем это расстояние.
 Создаём маску, представляющую собой функцию затемнения. Для каждого цветового канала
 изображения умножаем значения пикселей на маску vig_img[:, :, i] = vig_img[:, :, i] * mask,
 что и создает эффект затемнения по краям.

5. **Функция пикселизации заданной прямоугольной области изображения.**
 Данная функция реализует алгоритм пикселизации изображения. Вырезаем прямоугольную область roi
 из изображения. Проходим по этой области, вырезая блоки заданного размера, рассчитываем
 среднее значение цвета всех пикселей в блоке и заполняем весь блок этим средним значением.
 Далее вырезанную облась roi вставляем обратно в изображение.

6. **Второй вариант реализации функции пикселизации заданной прямоугольной области изображения.**
 Данная функция демонстрирует ещё один вариант реализации алгоритма пикселизации изображения.
 Вырезаем прямоугольную область roi из изображения. Создаём список координат блоков этой
 области. Далее перемешиваем блоки в списке. Затем проходим по списку и меняем местами соседние
 блоки. Вырезанную облась roi вставляем обратно в изображение.