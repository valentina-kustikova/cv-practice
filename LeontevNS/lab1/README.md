# Практическая работа №1. Обработка изображений с использованием библиотеки OpenCV

## 1. Функция изменения разрешения изображения

**Входные параметры**
 - изображение
 - желаемая ширина
 - желаемая высота
 - коэффициент масштабирования

**Алгоритм**
 - При указании желаемой ширины и/или высоты, а также коэф. масштабирования готовится новое изображение, далее из изображения-источника берутся отдельные пиксели, которые попадут в итоговое изображение.
 Если изображение расширяется, в итоге "новые пиксели" появляться не будут, будут браться существующие. Если уменьшается, то имеет место потеря данных.

## 2. Функция применения фотоэффекта сепии к изображению

**Входные параметры**
 - изображение
 - интенсивность эффекта

**Алгоритм**
 - Создаётся матрица сепии в транспонированном виде, для каждого пикселя проводится матричное умножение матрицы преобразования на (B,G,R), результат которого - новый цвет пикселя. Чем меньше интенсивность, тем ближе матрица преобразования к единичной (экв. преобр.)


## 3. Функция применения фотоэффекта виньетки к изображению

**Входные параметры**
 - изображение
 - интенсивность эффекта виньетки
 - радиус эффекта виньетки
 - центр эффекта виньетки

**Алгоритм**
 - Если центр не указан, он устанавливается по центру самого изображения
 - Создается матрица расстояний от центра до любого пикселя, нормируется, делится на радиус и инвертируется. Таким образом, пикселю в центре соответствует значение 1.0, а вдали центра 0.0
 - Интенсивность эффекта влияет на резкость перехода от светлого к темному.

## 4. Функция пикселизации заданной прямоугольной области изображения

**Входные параметры**
 - изображение
 - ширина региона пикселизации
 - высота региона пикселизации
 - центр эффекта пикселизации
 - размер пикселя

**Алгоритм**
 - "Вырезаем" из картинки область, которую хотим пикселизировать. Через метод изменения разрешения изображения сжимаем эту область до нужного размера пикселей, а потом снова растягиваем, возвращая на исходную картинку.

## 5. Функция наложения прямоугольной одноцветной рамки заданной ширины по краям изображения

**Входные параметры**
 - изображение
 - ширина рамки
 - цвет рамки

**Алгоритм**
 - Если ширина рамки не указана, она по умолчанию берётся 1/25 от минимума ширины и высоты изображения
 - Заменяем "ширина рамки" строчек сверху и снизу, "ширина рамки" столбцов слева и справа на пиксели цвета рамки

## 6. Функция наложения фигурной одноцветной рамки по краям изображения

**Входные параметры**
 - изображение
 - имя файла рамки
 - порог отклонения от фона для отделения рамки

**Алгоритм**
 - Если размер рамки не совпадает с размером изображения, размер рамки подгоняется под размер изображения
 - Пусть рамка на белом фоне, тогда маской мы берём только те пиксели рамки, что отклонены от фона как минимум на порог
 - Нужные нам пиксели рамки ставятся заместо соответствующих пикселей на исходном изображении.

## 7. Функция наложения эффекта бликов объектива камеры

**Входные параметры**
 - изображение
 - имя файла блика
 - сила наложения эффекта
 - коэффициент масштабирования  блика
 - центр блика 

**Алгоритм**
 - Если центр блика не задан, он задаётся центром изображения
 - Блик масштабируем методом изменения разрешения изображения, далее ищем область на исходном изображении, где расположится блик (с учётом возможности выхода за границы)
 - Цвет исходного пикселя и блика складываются, причём блик тем ярче, чем больше сила наложения эффекта. Далее результирующий цвет приводится к [0;255].

## 8. Функция наложения текстуры акварельной бумаги

**Входные параметры**
 - изображение
 - интенсивность
 - сила наложения текстуры

**Алгоритм**
 - Если размер текстуры не совпадает с размером изображения, размер текстуры подгоняется под размер изображения
 - На основе нормализованных яркостей пикселей текстуры создаётся маска в диапазоне [0.0;1.0], значение 1.0 будет в самых тёмных областях текстуры, там она будет иметь наибольший эффект на изображения, значение 0.0 будет в самых светлых областях текстуры, там она будет иметь наименьший эффект
 - Применяется значение силы текстуры, которое влияет на контрастность будущего изображения (чем выше сила - тем выше контрастность)
затем происходит смешивание изображений с поправкой на интенсивность накладываемого эффекта
