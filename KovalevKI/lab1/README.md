# Практическая работа №1. Обработка изображений с использованием библиотеки OpenCV

## 1. Функция изменения разрешения изображения

resize_image(image, width=None, height=None, scale_factor=None)

**Параметры**

image — исходное изображение,
width, height — новые размеры,
scale_factor — коэффициент масштабирования.

**Алгоритм**

Определяется целевой размер:
 - По scale_factor, или
 - По width/height, с сохранением пропорций при частичном указании.
Создаётся пустой массив resized нужного размера.
Для каждого пикселя нового изображения:
	src_x = (x_new / new_width) * orig_width
	src_y = (y_new / new_height) * orig_height
Используется интерполяция ближайшего соседа через np.meshgrid.

## 2. Функция применения фотоэффекта сепии к изображению

sepia_filter(image, intensity=1.0)

**Параметры**

intensity — сила эффекта (0.0 = оригинал, 1.0 = полная сепия).

**Алгоритм**

Использует матрицу преобразования цветов,
Интерполирует между оригиналом и сепией,
Применяет матричное умножение к каждому пикселю,
Ограничивает значения [0, 255].

## 3. Функция применения фотоэффекта виньетки к изображению

vignette_filter(image, intensity=0.8, radius=0.8, center=None)

**Параметры**

intensity — сила затемнения,
radius — радиус действия (меньше → эффект ближе к центру),
center — центр виньетки (по умолчанию — середина).

**Алгоритм**

Вычисляет расстояние от каждого пикселя до центра,
Нормализует его,
Строит маску: 1 в центре, 0 на краях,
Усиливает нелинейно (mask ** intensity),
Умножает изображение на маску.

## 4. Функции интерактивной пикселизации заданной прямоугольной области изображения

def interactive_pixelation_gui(image)

**Алгоритм**

Открывается окно с изображением с помощью cv2.imshow.
Центральная область пикселизации следует за курсором мыши.
При движении мыши:
Область перерисовывается с текущими параметрами.
Управление с клавиатуры:
 - A / D — уменьшить/увеличить ширину области,
 - W / S — уменьшить/увеличить высоту области,
 - "+" / "-" — увеличить/уменьшить размер пикселя.
 - ЛКМ — фиксирует положение и применяет pixelate_region.
 - ESC — отмена.

**Возвращаемые значения**

Кортеж: (result_image, region_width, region_height, pixel_size)

**После завершения**

Окно закрывается,
Параметры области пикселизации передаются в pixelate_region.

pixelate_region(image, center_x, center_y, region_width, region_height, pixel_size=10)

**Параметры**

center_x, center_y — центр области,
region_width, region_height — размеры области,
pixel_size — количество пикселей, которые будут объединены алгоритмом в один.

**Алгоритм**

Обрезает область,
Уменьшает её в pixel_size раз (через resize_image),
Увеличивает обратно — получается блочный эффект,
Вставляет обратно в изображение.

## 5. Функция наложения прямоугольной одноцветной рамки заданной ширины по краям изображения

add_simple_frame(image, frame_width=None, B=0, G=0, R=0)

**Параметры**

frame_width — ширина рамки (по умолчанию min(h,w)//10),
B, G, R — цвет рамки.

**Алгоритм**

Копирует изображение,
Закрашивает верхнюю, нижнюю, левую и правую полосы шириной frame_width заданным цветом.

## 6. Функция наложения фигурной одноцветной рамки по краям изображения. Тип фигурной рамки является параметром функции

add_figure_frame(image, frame_number=0, threshold=30.0)

**Параметры**

frame_number — номер файла frameX.jpg,
threshold — порог различия цветов.

**Алгоритм**

Загружает изображение рамки и подгоняет размер,
Определяет фоновый цвет,
Вычисляет разницу цветов с фоном,
Создаёт маску: где разность цвета фона и рамки превышает порог — оставляет рамку, где нет - исходное изображение,
Применяет маску.

## 7. Функция наложения эффекта бликов объектива камеры

add_glare(image, strength=0.5, scale=0.5, center=None)

**Параметры**

strength — яркость блика,
scale — размер блика,
center — центр блика (по умолчанию — правый верх).

**Алгоритм**

Загружает изображение блика и масштабирует,
Определяет область вставки,
Корректирует границы (если выходит за кадр),
Прибавляет блик к изображению с множителем strength.

## 8. Функция наложения текстуры акварельной бумаги

watercolor_texture(image, intensity=1.0, strength=0.9)

**Параметры**

intensity — сила наложения текстуры,
strength — контрастность текстуры (меньше → резче волокна).

**Алгоритм**

Загружает и подгоняет текстуру,
Преобразует в оттенки серого,
Инвертирует и усиливает контраст,
Смешивает оригинал и текстуру: где темнее — больше текстуры.