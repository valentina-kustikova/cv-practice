# Практическая работа №1. Обработка изображений с использованием библиотеки OpenCV

## Описание алгоритмов и функций

### 1. Изменение разрешения
**Функция:** `resize_image(image, scale)`

**Аргументы:**
- `image`: исходное изображение (numpy array)
- `scale`: коэффициент масштабирования (float)

**Алгоритм:** Метод ближайшего соседа. Для каждого пикселя выходного изображения вычисляются соответствующие координаты в исходном изображении с учетом коэффициентов масштабирования.

### 2. Сепия
**Функция:** `apply_sepia(image)`

**Аргументы:**
- `image`: исходное изображение (numpy array)

**Алгоритм:** 
- Конвертация изображения из BGR в RGB
- Применение цветовой матрицы преобразования. Каждый цвет пикселя преобразуется по формуле:
R_new = 0.393*R + 0.769*G + 0.189*B
G_new = 0.349*R + 0.686*G + 0.168*B
B_new = 0.272*R + 0.534*G + 0.131*B
- Конвертация обратно в BGR

### 3. Виньетка
**Функция:** `apply_vignette(image, strength=0.8)`

**Аргументы:**
- `image`: исходное изображение (numpy array)
- `strength`: сила эффекта затемнения (float, по умолчанию 0.8)

**Алгоритм:** Создается гауссова маска, которая затемняется к краям изображения. Яркость пикселей регулируется в зависимости от их расстояния от центра.

### 4. Пикселизация
**Класс:** `PixelateSelector(image, pixel_size=10)`

**Аргументы конструктора:**
- `image`: исходное изображение (numpy array)
- `pixel_size`: размер пикселя (int, по умолчанию 10)

**Метод:** `select_region()` - интерактивный выбор области

**Алгоритм:** 
- Интерактивный выбор прямоугольной области с помощью мыши
- Усреднение цветов в блоках пикселей указанного размера внутри выбранной области
- Визуальное выделение выбранной области зеленой рамкой

### 5. Рамка
**Функция:** `add_frame(image, color, thickness, texture_type='simple', texture_path=None, frame_style='wave')`

**Аргументы:**
- `image`: исходное изображение (numpy array)
- `color`: цвет рамки (tuple в формате BGR) для типа 'simple'
- `thickness`: толщина рамки (int)
- `texture_type`: тип рамки - 'simple' или 'fancy' (string)
- `texture_path`: путь к файлу текстуры (string, обязателен для 'fancy')
- `frame_style`: стиль фигурной рамки - 'wave' или 'zigzag' (string, по умолчанию 'wave')

**Алгоритм:**
- При `texture_type='simple'`: заливка краев изображения указанным цветом
- При `texture_type='fancy'`: загрузка текстуры из файла и наложение ее на края изображения с заданным стилем (волнистым или зигзагообразным)

### 6. Блики объектива
**Функция:** `add_lens_flare(image, texture_path, intensity=0.7)`

**Аргументы:**
- `image`: исходное изображение (numpy array)
- `texture_path`: путь к файлу текстуры блика (string)
- `intensity`: интенсивность эффекта (float, по умолчанию 0.7)

**Алгоритм:**
- Загрузка текстуры блика
- Наложение текстуры в нескольких позициях на изображении с аддитивным смешиванием
- Реализация эффекта свечения через поэлементное сложение

### 7. Текстура акварельной бумаги
**Функция:** `add_paper_texture(image, texture_path, intensity=0.3)`

**Аргументы:**
- `image`: исходное изображение (numpy array)
- `texture_path`: путь к файлу текстуры бумаги (string)
- `intensity`: интенсивность наложения текстуры (float, по умолчанию 0.3)

**Алгоритм:**
- Загрузка текстуры бумаги
- Изменение размера текстуры до размера изображения
- Наложение текстуры на изображение с заданной интенсивностью
- Реализация эффекта шероховатой поверхности бумаги

## Вспомогательные функции

### Создание текстур
**Функция:** `create_sample_textures()`

**Аргументы:** нет

**Назначение:** Создает образцы текстур по умолчанию в папке 'textures/'

## Использование

### Командная строка
```bash
python main.py <путь_к_изображению> <фильтр> [параметры]